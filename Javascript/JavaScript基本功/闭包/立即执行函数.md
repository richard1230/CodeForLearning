## 前言

自动执行,执行完之后立即释放(就是说这个函数执行完之后自动销毁, 你再次调用的时候会报 ReferenceError的错误); <br>
IIFE: immediately-invoked function expression

三种基本写法:

```javascript
//第一种
(function () {

})(); // 看着清晰

// 第二种
(function () {

}()); // W3C建议,推荐

// 第三种
+function test() {

}()


  // 1、简单示例
  // 用括号包裹匿名函数：因为括号包裹的是函数表达式，前后需要加分号
  (function () {
    var a = 1;
    var b = 2;
    console.log(a + b); // 3
  }());


// 2、参数问题
(function (a, b) { // 形参
  console.log(a + b); // 3
}(1, 2)); // 实参


// 3、返回值：用变量接受表达式
var num = (function (a, b) {
  return a + b;
}(1, 2));

console.log(num); // 3

```

## 表达式执行

（1）括号包起来的一定是表达式

```javascript
// ==>   (funiton test(){})

```

（2）一定是表达式才能被执行符号执行

```javascript
// 被执行
(function test1() {
  console.log(1); // 1
})();

// 被执行
var test2 = function () {
  console.log(1); // 1
}();

// 不传参报错，不是一个表达式，原因：JS引擎认为不传参数就是不是表达式
// 报语法错误：Uncaught SyntaxError: Unexpected token )
// function test3() {
//     console.log(1);
// }(); // 没传参

// 传入参数不报错，但不执行，原因：JS引擎认为传了参数就是表达式
function test5(a) {

}

(6);  // 传参
```

（3）立刻执行函数：自动执行、执行完成以后立刻释放

```javascript
// 括号包裹-会报错
(function test() {
  var a = 1;
  var b = 2;
  console.log(a + b); // 3
}());
// 因为执行完毕即可销毁，外部调用不到test函数
console.log(test()); // Uncaught ReferenceError: test is not defined

// 表达式-不会报错
var test1 = function () {
  console.log(2); // 2
}();
console.log(test1); // undefined

```

（4）如果函数变为表达式，函数名就会被忽略

```javascript
// 匿名函数
var num = (function () {
  return 123;
})();
console.log(num); // 123

// 忽略函数名
var num = (function test() {
  return 123;
})();
console.log(num); // 123

```

（5）函数声明变为表达式的方法，在表达式前加 +、-、!、||、&&

```javascript
// 1、函数声明：function test(){}
// 2、函数声明变为表达式(前面加符号)：+function test(){}
// 3、表达式立刻执行(末尾加括号)：+function test(){}()
+function test() {
  console.log(1);//1
}();

1 && function test() {
  console.log(1);//1
}();
```




